<p>Given an integer x, how many bits are set in the binary representation of x?</p>

<p>How to get the last bit of x? Ans: x & (x - 1). When you subtract 1 from a number, the rightmost 1 becomes a 0, and all the 0s to its right become 1s. When you then perform a bitwise AND (&) between the original number and the result of the subtraction, that rightmost 1 is cleared to 0.</p>

<p>Example: x = 12 (1100) and x - 1 = 11 (1011). 1100  & 1011 = 1000. The rightmost 1 is gone! If we keep doing this, x eventually becomes zero. </p>
<pre><code class="language-java">
<textarea hidden>
public class Solution {
    private int popCount(int x) {
        int count;
        for (count = 0; x != 0; ++count) {
            x &= x - 1;
        }
        return count;
    }

    public int[] countBits(int n) {
        int[] ans = new int[n + 1];
        for (int x = 0; x <= n; ++x) {
            ans[x] = popCount(x);
        }
        return ans;
    }
}
</textarea>
</code></pre>

<table width="100%"><tr><td align="right"><a href="https://leetcode.com/problems/counting-bits/"><img width="25px" src="content/images/leetcode.png"</a></td></tr></table>

<hr>
